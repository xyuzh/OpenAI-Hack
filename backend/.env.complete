# Complete Environment Configuration for Backend Services
# Copy this to .env and update with your actual values

# ===================================================================
# Essential API Keys (REQUIRED)
# ===================================================================
OPENAI_API_KEY=your_openai_api_key_here
COMPOSIO_API_KEY=your_composio_api_key_here

# ===================================================================
# Application Settings
# ===================================================================
APP_NAME=usebase-agent-root
APP_VERSION=1.0.0
ENV=local

# ===================================================================
# RabbitMQ Configuration (REQUIRED for Celery)
# ===================================================================
RABBITMQ_PROTOCOL=amqp
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest

# ===================================================================
# Celery Configuration
# ===================================================================
# Queue Settings
CELERY_QUEUE=celery_default_queue
CELERY_EXCHANGE=celery_exchange
CELERY_ROUTING_KEY=celery.default
CELERY_DL_EXCHANGE=celery_dl_exchange
CELERY_DL_ROUTING_KEY=celery.dl
CELERY_MESSAGE_TTL=86400000
CELERY_TASK_CREATE_MISSING_QUEUES=true

# Control & Event Exchanges
CELERY_CONTROL_EXCHANGE=celery_control
CELERY_EVENT_EXCHANGE=celery_event

# Serialization
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# Worker Configuration
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000
CELERY_TASK_TIME_LIMIT=3600
CELERY_TASK_SOFT_TIME_LIMIT=3300

# ===================================================================
# Redis Configuration (REQUIRED for result backend and streaming)
# ===================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_USERNAME=
REDIS_PASSWORD=
REDIS_DB=0

# ===================================================================
# PostgreSQL Configuration (Optional - for state management)
# ===================================================================
POSTGRESQL_DATASOURCE_HOST=localhost
POSTGRESQL_DATASOURCE_PORT=5432
POSTGRESQL_DATASOURCE_USERNAME=postgres
POSTGRESQL_DATASOURCE_PASSWORD=postgres
POSTGRESQL_LANGCHAIN_STATE_DATABASE_NAME=langchain_state

# ===================================================================
# AWS AppSync Configuration (Optional - for real-time updates)
# ===================================================================
AWS_APP_SYNC_HTTP_DOMAIN=placeholder.appsync-api.us-east-1.amazonaws.com
AWS_APP_SYNC_WEBSOCKET_DOMAIN=placeholder.appsync-realtime-api.us-east-1.amazonaws.com
AWS_APP_SYNC_API_KEY=placeholder_api_key

# ===================================================================
# Workflow Configuration (Additional API Keys)
# ===================================================================
# These are placeholders - update if you have these services
ANTHROPIC_API_KEY=placeholder_key
EXA_API_KEY=placeholder_key
DAYTONA_API_KEY=placeholder_key
DAYTONA_SERVER_URL=https://app.daytona.io
DAYTONA_SANDBOX_TARGET=eu
E2B_API_KEY=placeholder_key

# ===================================================================
# Usebase Server Configuration (Optional)
# ===================================================================
USEBASE_SERVER_BOOT_BASE_URL=http://localhost:8080
USEBASE_INTERNAL_API_KEY=placeholder_internal_key

# ===================================================================
# Logging Configuration
# ===================================================================
LOGGING_LEVEL=INFO
LOGGING_DATEFMT=%Y-%m-%d %H:%M:%S
LOGGING_FORMAT=%(cyan)s%(asctime)s%(reset)s %(log_color)s%(levelname)-5s%(reset)s [%(blue)s%(name)s%(reset)s] %(message)s
LOGGING_COLORS={"DEBUG":"cyan","INFO":"green","WARNING":"yellow","ERROR":"red","CRITICAL":"red,bg_white"}

# ===================================================================
# Event Source Configuration (for SSE streaming)
# ===================================================================
EVENT_SOURCE_STREAM_PREFIX=usebase.agent.eventsource.stream
EVENT_SOURCE_MAX_STREAM_LENGTH=100000
EVENT_SOURCE_STREAM_READ_COUNT=2000
EVENT_SOURCE_STREAM_BLOCK_TIME_MS=2000
EVENT_SOURCE_KEEP_ALIVE_INTERVAL=30
EVENT_SOURCE_MESSAGE_QUEUE_MAX_SIZE=10000
EVENT_SOURCE_TIMEOUT_MINUTES=10
EVENT_SOURCE_CONNECTION_MAX_DURATION_MINUTES=30
EVENT_SOURCE_STREAM_CHECK_INTERVAL_SECONDS=5
EVENT_SOURCE_CONNECTION_TIMEOUT_CHECK_INTERVAL_SECONDS=10